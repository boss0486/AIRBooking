@using WebCore.Entities;
@using WebCore.Services;
@using WebCore.ENM;
@using WebCore.Model.Enum;
@using WebCore.Model.Services

@using Helper.Language;
@using Helper.TimeData;
@{
    ViewBag.Title = Helper.Page.MetaSEO.MetaTitle;
}

@model WebCore.Entities.TransactionUserSpendingResult

@{

    string id = "";
    string title = "";
    string summary = "";
    double amount = 0;
    string senderCode = "";
    string receiveCode = "";
    string createdBy = "";
    string createdDate = "";
    string createdFullDate = "";
    string enabled = "";
    int transactionType = -1;
    string strTransactionType = "";
    string receiveName = "";
    string senderName = "";


    if (Model != null)
    {
        id = Model.ID;
        title = Model.Title;
        summary = Model.Summary;
        amount = Model.Amount;
        senderCode = Model.ReceivedUserID;
        receiveCode = Model.CustomerID;
        createdBy = Model.CreatedBy;
        createdDate = Model.CreatedDate;
        createdFullDate = Model.CreatedFullDate;
        createdBy = Model.CreatedBy;
        createdDate = Model.CreatedDate;
        enabled = "None";
        if (Model.Enabled == (int)ModelEnum.Enabled.ENABLED)
        {
            enabled = "ENABLED";
        }
        else if (Model.Enabled == (int)ModelEnum.Enabled.DISABLE)
        {
            enabled = "DISABLE";
        }

        if (transactionType == 1)
        {
            strTransactionType = "Nhận";
        }
        else
        {
            strTransactionType = "Chuyển";
        }
        //
        SupplierService supplierService = new SupplierService();
        var supplier = supplierService.GetSupplierModel(Model.SendUserID);
        if (supplier != null)
        {
            senderName = supplier.Title;
        }
        AirAgentService.GetCustomerName()
        AirAgentService airAgentService = new AirAgentService();
        AirAgent airAgent = airAgentService.GetAgentByID(Model.CustomerID);
        if (airAgent != null)
        {
            receiveName = airAgent.Title;
        }
    }
}

<div class="row">
    <div class="col-md-8">
        <div class="top-pic">
            <i class="fas fa-file-invoice"></i>&nbsp;<label>Thông tin:</label>
        </div>
        <div class="form-group"><i class="fas fa-check-circle"></i> Tiêu đề: @title</div>
        <div class="form-group"><i class="fas fa-check-circle"></i> Mô tả: @summary</div>
        <div class="top-pic">
            <i class="fas fa-file-invoice"></i>&nbsp;<label>Giao dịch:</label>
        </div>
        <div class="form-group"><i class="fas fa-check-circle"></i> Mã giao dịch: @id</div>
        <div class="form-group"><i class="fas fa-check-circle"></i> Chuyển từ: @senderCode - @senderName</div>
        <div class="form-group"><i class="fas fa-check-circle"></i> Chuyển đến: @receiveCode - @receiveName</div>
        <div class="form-group"><i class="fas fa-check-circle"></i> Thời gian nhận: @createdFullDate</div>
        @{
            if (PermissionService.CheckActionInMenuItem(Helper.Page.MetaSEO.ControllerText, WebCore.Entities.RoleActionKey.DataList))
            {
                <div class="form-group text-right att-data-list">
                    <a href="@Helper.Page.Navigate.PathDataList()">
                        @Helper.Language.Resource.Label.DataList <i class="fas fa-arrow-circle-right"></i>
                    </a>
                </div>
            }
        }
    </div>
</div>
